  	
				
collapse <https://www.agner.org/?e=#0>	*Home* <https://www.agner.org/?e=0#0>
	expand <https://www.agner.org/optimize/?e=0,1>	Cultural Selection
Theory <https://www.agner.org/cultsel/?e=0#0>
	expand <https://www.agner.org/optimize/?e=0,25>	Evolutionary biology
<https://www.agner.org/evolution/?e=0#0>
	expand <https://www.agner.org/optimize/?e=0,31>	Random number
generators <https://www.agner.org/random/?e=0#0>
	expand <https://www.agner.org/optimize/?e=0,34>	*Software optimization
resources*
		Digital electronics <https://www.agner.org/digital/?e=0#0>
		Contact address <https://www.agner.org/contact/?e=0#0>

	 


  Software optimization resources

See also my blog <https://www.agner.org/optimize/blog/>


    Contents

  * Optimization manuals <#manuals>
  * NAN propagation versus fault trapping <#nan_propagation>
  * Vector class library <#vectorclass>
  * Object file converter and disassembler <#objconv>
  * Subroutine library <#asmlib>
  * ForwardCom: An open standard instruction set for high performance
    microprocessors <#instructionset>
  * Test programs for measuring clock cycles in C++ and assembly code
    <#testp>
  * CPUID manipulation program <#cpuidfake>
  * Links <#links>

------------------------------------------------------------------------


    Optimization manuals

This series of five manuals describes everything you need to know about
optimizing code for x86 and x86-64 family microprocessors, including
optimization advices for C++ and assembly language, details about the
microarchitecture and instruction timings of most Intel, AMD and VIA
processors, and details about different compilers and calling conventions.

Operating systems covered: DOS, Windows, Linux, BSD, Mac OS X Intel
based, 32 and 64 bits.

Note that these manuals are not for beginners.

1. Optimizing software in C++: An optimization guide for Windows, Linux
and Mac platforms
    This is an optimization manual for advanced C++ programmers. Topics
    include: The choice of platform and operating system. Choice of
    compiler and framework. Finding performance bottlenecks. The
    efficiency of different C++ constructs. Multi-core systems.
    Parallelization with vector operations. CPU dispatching. Efficient
    container class templates. Etc.
     
    _File name_: optimizing_cpp.pdf, size: 1797966, last modified:
    2018-Sep-15.
    Download <https://www.agner.org/optimize/optimizing_cpp.pdf>.
     
2. Optimizing subroutines in assembly language: An optimization guide
for x86 platforms
    This is an optimization manual for advanced assembly language
    programmers and compiler makers. Topics include: C++ instrinsic
    functions, inline assembly and stand-alone assembly. Linking
    optimized assembly subroutines into high level language programs.
    Making subroutine libraries compatible with multiple compilers and
    operating systems. Optimizing for speed or size. Memory access.
    Loops. Vector programming (XMM, YMM, SIMD). CPU-specific
    optimization and CPU dispatching.
     
    _File name_: optimizing_assembly.pdf, size: 1669549, last modified:
    2018-Apr-25.
    Download <https://www.agner.org/optimize/optimizing_assembly.pdf>.
     
3. The microarchitecture of Intel, AMD and VIA CPUs: An optimization
guide for assembly programmers and compiler makers
    This manual contains details about the internal working of various
    microprocessors from Intel, AMD and VIA. Topics include:
    Out-of-order execution, register renaming, pipeline structure,
    execution unit organization and branch prediction algorithms for
    each type of microprocessor. Describes many details that cannot be
    found in manuals from microprocessor vendors or anywhere else. The
    information is based on my own research and measurements rather than
    on official sources. This information will be useful to programmers
    who want to make CPU-specific optimizations as well as to compiler
    makers and students of microarchitecture.
     
    _File name_: microarchitecture.pdf, size: 2264125, last modified:
    2018-Sep-15.
    Download <https://www.agner.org/optimize/microarchitecture.pdf>.
     
4. Instruction tables: Lists of instruction latencies, throughputs and
micro-operation breakdowns for Intel, AMD and VIA CPUs
    Contains detailed lists of instruction latencies, execution unit
    throughputs, micro-operation breakdown and other details for all
    common application instructions of most microprocessors from Intel,
    AMD and VIA. Intended as an appendix to the preceding manuals.
    Available as pdf file and as spreadsheet (ods format).
     
    _File name_: instruction_tables.pdf, size: 1644721, last modified:
    2018-Sep-15.
    Download <https://www.agner.org/optimize/instruction_tables.pdf>.
     
    _File name_: instruction_tables.ods, size: 437711, last modified:
    2018-Sep-15.
    Download <https://www.agner.org/optimize/instruction_tables.ods>.
     
5. Calling conventions for different C++ compilers and operating systems
    This document contains details about data representation, function
    calling conventions, register usage conventions, name mangling
    schemes, etc. for many different C++ compilers and operating
    systems. Discusses compatibilities and incompatibilities between
    different C++ compilers. Includes information that is not covered by
    the official Application Binary Interface standards (ABI's). The
    information provided here is based on my own research and therefore
    descriptive rather than normative. Intended as a source of reference
    for programmers who want to make function libraries compatible with
    multiple compilers or operating systems and for makers of compilers
    and other development tools who want their tools to be compatible
    with existing tools.
     
    _File name_: calling_conventions.pdf, size: 1027527, last modified:
    2018-Apr-25.
    Download <https://www.agner.org/optimize/calling_conventions.pdf>.
     
All five manuals
    Download all the above manuals together in one zip file.
     
    _File name_: optimization_manuals.zip, size: 6699974, last modified:
    2018-Sep-15.
    Download <https://www.agner.org/optimize/optimization_manuals.zip>.
     

------------------------------------------------------------------------


    NAN propagation versus fault trapping in floating point code

This article discusses the use of infinity and not-a-number (NAN) values
in floating code as an efficient alternative to fault trapping for
detecting floating point errors. Relevant compiler optimization options
are also discussed.
 
_File name_: nan_propagation.pdf, size: 388682, last modified: 2018-Nov-13.
Download <https://www.agner.org/optimize/nan_propagation.pdf>.
 

------------------------------------------------------------------------


    C++ vector class library

This is a collection of C++ classes, functions and operators that makes
it easier to use the the vector instructions (Single Instruction
Multiple Data instructions) of modern CPUs without using assembly
language. Supports the SSE2, SSE3, SSSE3, SSE4.1, SSE4.2, AVX, AVX2,
AVX512, FMA, and XOP instruction sets. Includes standard mathematical
functions. Can compile for different instruction sets from the same
source code. Description and instructions
<http://www.agner.org/optimize/vectorclass.pdf>. Message board
<http://agner.org/optimize/vectorclass/>.

_File name_: vectorclass.zip, size: 682404, last modified: 2017-Jul-27.
Download <https://www.agner.org/optimize/vectorclass.zip>.

------------------------------------------------------------------------


    Object file converter

This utility can be used for converting object files between COFF/PE,
OMF, ELF and Mach-O formats for all 32-bit and 64-bit x86 platforms. Can
modify symbol names in object files. Can build, modify and convert
function libraries across platforms. Can dump object files and
executable files. Also includes a very good disassembler supporting the
SSE4, AVX, AVX2, AVX512, FMA3, FMA4, XOP and Knights Corner instruction
sets. Source code included (GPL). Manual
<https://www.agner.org/optimize/objconv-instructions.pdf>.

_File name_: objconv.zip, size: 1033450, last modified: 2018-Oct-07.
Download <https://www.agner.org/optimize/objconv.zip>.

------------------------------------------------------------------------


    Subroutine library

This is a library of optimized subroutines coded in assembly language.
The functions in this library can be called from C, C++ and other
compiled high-level languages. Supports many different compilers under
Windows, Linux, BSD and Mac OS X operating systems, 32 and 64 bits. This
library contains faster versions of common C/C++ memory and string
functions, fast functions for string search and string parsing, fast
integer division and integer vector division, as well as several useful
functions not found elsewhere.

The package contains library files in many different file formats, C++
header file and assembly language source code. Gnu general public
license applies. Manual
<https://www.agner.org/optimize/asmlib-instructions.pdf>.

_File name_: asmlib.zip, size: 883583, last modified: 2018-Apr-25.
Download <https://www.agner.org/optimize/asmlib.zip>.

------------------------------------------------------------------------


    ForwardCom: An open standard instruction set for high performance
    microprocessors

This is a proposal and discussion of how an ideal instruction set
architecture can be constructed. The proposed instruction set combines
the best from the RISC and CISC principles to produce a flexible,
consistent, modular, orthogonal, scalable and expansible instruction set
for high performance microprocessors and large vector processors.

The ForwardCom instruction set has variable-length vector registers and
a special addressing mode that allows the software to automatically
adapt to different microprocessors with different maximum vector lengths
and make efficient loops through arrays regardless of whether the array
size is divisible by the vector length. Standardization of the
corresponding ecosystem of ABI standards, function libraries, compilers,
etc. makes it possible to combine different programming languages in the
same program.

Introduction: www.forwardcom.info <http://www.forwardcom.info/>.
Manual: _File name_: forwardcom.pdf, size: 769352, last modified:
2017-Nov-03.
Download <https://www.agner.org/optimize/forwardcom.pdf>.

------------------------------------------------------------------------


    Test programs for measuring clock cycles and performance monitoring

Test programs that I have used for my research. Can measure clock cycles
and performance monitor counters such as cache misses, branch
mispredictions, resource stalls etc. in a small piece of code in C, C++
or assembly. Can also set up performance monitor counters for reading
inside another program. Supports Windows and Linux, 32 and 64 bit mode,
multiple threads.

For experts only. Useful for analyzing small pieces of code but not for
profiling a whole program.

_File name_: testp.zip, size: 1095188, last modified: 2018-Aug-08.
Download <https://www.agner.org/optimize/testp.zip>.

------------------------------------------------------------------------


    CPUID manipulation program for VIA

This is a program that can change the CPUID vendor string, family and
model number on VIA Nano processors. See my blog
<http://www.agner.org/optimize/blog/read.php?i=49#73> for a discussion
of the purpose of this program.

_File name_: cpuidfake.zip, size: 67593, last modified: 2010-Aug-08.
Download <https://www.agner.org/optimize/cpuidfake.zip>.

------------------------------------------------------------------------


    Useful assembly links

Agner's CPU blog www.agner.org/optimize/blog
<http://www.agner.org/optimize/blog/>

Masm Forum www.masmforum.com <http://www.masmforum.com/>

ASM Community Messageboard www.asmcommunity.net/board/
<http://www.asmcommunity.net/board/index.php>

Hutch's masm pages www.masm32.com <http://www.masm32.com/>

CPU-id tools and information www.cpuid.com <http://www.cpuid.com/>

likwid performance measuring tools for Linux github.com/RRZE-HPC/likwid
<https://github.com/RRZE-HPC/likwid>

Programmer's heaven assembler zone Programmers' Heaven
<http://www.programmersheaven.com/zone5/index.htm>

X-bit Labs articles on microprocessors www.xbitlabs.com/articles/cpu/
<http://www.xbitlabs.com/articles/cpu/>

Virtual sandpile x86 Processor information www.sandpile.org
<http://www.sandpile.org/>

intel-assembler programmers guides and manuals www.intel-assembler.it
<http://www.intel-assembler.it/>

Online computer books www.computer-books.us/assembler.php
<http://www.computer-books.us/assembler.php>

Instruction latency listings instlatx64.atw.hu/ <http://instlatx64.atw.hu/>

NASM assembler www.nasm.us/ <http://www.nasm.us/>

YASM assembler www.tortall.net/projects/yasm
<http://www.tortall.net/projects/yasm/>

FASM assembler and messageboard flatassembler.net
<http://flatassembler.net/>

JWASM assembler www.japheth.de <http://www.japheth.de/>

Yeppp open source library of assembly language functions www.yeppp.info
<http://www.yeppp.info/>

MAQAO (Modular Assembly Quality Analyzer and Optimizer), a tool for
analyzing and optimizing binary codes. www.maqao.org
<http://www.maqao.org/>

Newsgroup: comp.lang.asm.x86
<https://groups.google.com/forum/#!forum/comp.lang.asm.x86>


      Intel resources

Reference manuals and other documents can be found at Intel's web site.
Intel's web site is refurnished so often that any link I could provide
here to specific documents would be broken after a few months. I will
therefore recommend that you use the search facilities at
developer.intel.com <http://developer.intel.com/> and search for
"Software Developer's Manual" and "Optimization Reference Manual".


      AMD resources

https://developer.amd.com/resources/developer-guides-manuals/


      Microsoft resources

MASM manuals msdn.microsoft.com
<http://search.msdn.microsoft.com/?query=microsoft%20masm%20reference&locale=en-gb&ac=1>


2546509


↑ _I_ndex <#i>

